(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();const m=t=>t.includes("youtube")||t.includes("youtu.be"),a=["mp4","mov","avi","mkv","webm"],p=["jpg","jpeg","png","gif","svg"],f=t=>{const e=t.split("?")[0].split(".").pop();return a.includes(e)?"video":p.includes(e)?"image":null},n={},c={screenIdx:0};function y(t){if(t.type==="panoramic"){n.partType="panoramic";const i=f(t.content.url);i=="image"?n.element=h(t.content.url):i=="video"&&(n.element=v(t.content.url));return}const e=t.content;switch(n.partType="normal",n.elementType=e.type_,e.type_){case"img":n.element=l(e.url);break;case"video":n.element=d(e.url);break;case"browser":n.element=g(e.url),n.isYoutube=m(e.url);break}}function b(){n.element&&(delete document.body.dataset.child,document.body.removeChild(n.element),n.element=null,n.elementType=null,n.isYoutube=null)}function l(t){const e=document.createElement("img");return e.src=t,document.body.appendChild(e),e}function d(t){const e=document.createElement("video");return e.controls=!0,e.src=t,document.body.appendChild(e),e}function g(t){const e=document.createElement("webview");return e.src=t,document.body.appendChild(e),e}function h(t){n.elementType="img";const e=l(t);return document.body.dataset.child="panoramic",e.style.position="absolute",e.style.width="300%",e.style.left=`-${c.screenIdx*100}%`,e}function v(t){n.elementType="video";const e=d(t);return document.body.dataset.child="panoramic",e.style.position="absolute",e.style.width="300%",e.style.left=`-${c.screenIdx*100}%`,c.screenIdx&&(e.muted=!0),e}window.addEventListener("DOMContentLoaded",()=>{const t=window;t.ipcRenderer.onSetup(e=>{c.screenIdx=e}),t.ipcRenderer.onPaint(e=>{b(),console.log(e),y(e)}),t.ipcRenderer.onVideoPauseOrContinue(e=>{if(console.log("onVideoPauseOrContinue",e),n.isYoutube||n.elementType!=="video")return;const i=n.element;i.paused?i.play():i.pause()}),t.ipcRenderer.onVideoSeekTo(e=>{if(n.elementType!=="video")return;const i=n.element;i.currentTime+=e})});
